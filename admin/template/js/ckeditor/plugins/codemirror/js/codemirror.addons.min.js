<<<<<<< HEAD
﻿(function(){function d(h){for(var c={name:"autoCloseBrackets"},e=0;e<h.length;e+=2)(function(a,f){function b(a){var b=a.getCursor();if(a.getRange(b,CodeMirror.Pos(b.line,b.ch+1))!=f)return CodeMirror.Pass;a.execCommand("goCharRight")}c["'"+a+"'"]=function(g){if(a!=f||b(g)==CodeMirror.Pass){var i=g.getCursor("start"),i=CodeMirror.Pos(i.line,i.ch+1);g.replaceSelection(a+f,{head:i,anchor:i})}};a!=f&&(c["'"+f+"'"]=b)})(h.charAt(e),h.charAt(e+1));return c}CodeMirror.defineOption("autoCloseBrackets",!1,
function(h,c,e){e=e&&e!=CodeMirror.Init;c&&!e?h.addKeyMap(d(typeof c=="string"?c:"()[]{}''\"\"")):!c&&e&&h.removeKeyMap("autoCloseBrackets")})})();
(function(){function d(a,f){var b=a.getCursor(),g=a.getTokenAt(b),i=CodeMirror.innerMode(a.getMode(),g.state),d=i.state,k,j;if("xml"!=i.mode.name)return CodeMirror.Pass;var l=a.getOption("autoCloseTags"),n="html"==i.mode.configuration,i="object"==typeof l&&l.dontCloseTags||n&&c,l="object"==typeof l&&l.indentTags||n&&e;if(">"==f&&d.tagName){if(j=d.tagName,g.end>b.ch&&(j=j.slice(0,j.length-g.end+b.ch)),k=j.toLowerCase(),"tag"==g.type&&"closeTag"==d.type||/\/\s*$/.test(g.string)||i&&-1<h(i,k))return CodeMirror.Pass;
d=(g=l&&-1<h(l,k))?CodeMirror.Pos(b.line+1,0):CodeMirror.Pos(b.line,b.ch+1);a.replaceSelection(">"+(g?"\n\n":"")+"</"+j+">",{head:d,anchor:d});g&&(a.indentLine(b.line+1),a.indentLine(b.line+2))}else if("/"==f&&"<"==g.string)(j=d.context&&d.context.tagName)&&a.replaceSelection("/"+j+">","end");else return CodeMirror.Pass}function h(a,f){if(a.indexOf)return a.indexOf(f);for(var b=0,g=a.length;b<g;++b)if(a[b]==f)return b;return-1}CodeMirror.defineOption("autoCloseTags",!1,function(a,f,b){if(f&&(b==CodeMirror.Init||
!b)){b={name:"autoCloseTags"};(typeof f!="object"||f.whenClosing)&&(b["'/'"]=function(a){return d(a,"/")});(typeof f!="object"||f.whenOpening)&&(b["'>'"]=function(a){return d(a,">")});a.addKeyMap(b)}else!f&&b!=CodeMirror.Init&&b&&a.removeKeyMap("autoCloseTags")});var c="area base br col command embed hr img input keygen link meta param source track wbr".split(" "),e="applet blockquote body button div dl fieldset form frameset h1 h2 h3 h4 h5 h6 head html iframe layer legend object ol p select table ul".split(" ")})();
(function(){function d(f){function g(e,c,h){var d,k,j,l;if(e.text){d=q?0:e.text.length-1;k=q?e.text.length:-1;for(null!=h&&(d=h+r);d!=k;d+=r)if(j=e.text.charAt(d),t.test(j)&&f.getTokenAt(a(c,d+1)).type==u)if(l=b[j],">"==l.charAt(1)==q)s.push(j);else{if(s.pop()!=l.charAt(0))return{pos:d,match:!1};if(!s.length)return{pos:d,match:!0}}}}var e=f.getCursor(),c=f.getLineHandle(e.line),h=e.ch-1,d=0<=h&&b[c.text.charAt(h)]||b[c.text.charAt(++h)],o,p;if(!d)return null;var q=">"==d.charAt(1),r=q?1:-1,u=f.getTokenAt(a(e.line,
h+1)).type,s=[c.text.charAt(h)],t=/[(){}[\]]/,d=e.line;for(p=q?Math.min(d+100,f.lineCount()):Math.max(-1,d-100);d!=p&&!(o=d==e.line?g(c,d,h):g(f.getLineHandle(d),d),o);d+=r);return{from:a(e.line,h),to:o&&a(d,o.pos),match:o&&o.match}}function h(b,g){var c=d(b);if(c&&!(b.getLine(c.from.line).length>f)&&(!c.to||!(b.getLine(c.to.line).length>f))){var h=c.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",l=b.markText(c.from,a(c.from.line,c.from.ch+1),{className:h}),n=c.to&&b.markText(c.to,
a(c.to.line,c.to.ch+1),{className:h});if(e&&b.state.focused&&b.display.input.focus(),c=function(){b.operation(function(){l.clear();n&&n.clear()})},g)setTimeout(c,800);else return c}}function c(b){b.operation(function(){g&&(g(),g=null);b.somethingSelected()||(g=h(b,!1))})}var e=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||8>document.documentMode),a=CodeMirror.Pos,f=1E3,b={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},g=null;CodeMirror.defineOption("matchBrackets",!1,
function(b,a){if(a)b.on("cursorActivity",c);else b.off("cursorActivity",c)});CodeMirror.defineExtension("matchBrackets",function(){h(this,!0)});CodeMirror.defineExtension("findMatchingBracket",function(){return d(this)})})();
CodeMirror.tagRangeFinder=function(d,h){for(var c=RegExp("^[A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*"),e=d.getLine(h.line),a=!1,f=null,b=h.ch,g,i,m,k,
j,l,n;!a;){if(b=e.indexOf("<",b),-1==b)return;if(b+1<e.length&&"/"==e[b+1])b++;else if(e.substr(b+1).match(c)){if(g=e.indexOf(">",b+1),-1==g){var a=h.line+1,o=!1;for(k=d.lineCount();a<k&&!o;){if(i=d.getLine(a),g=i.indexOf(">"),-1!=g&&(o=!0,m=i.lastIndexOf("/",g),-1!=m&&m<g&&(j=e.substr(m,g-m+1),!j.match(/\/\s*\>/))))return;a++}a=!0}else k=e.lastIndexOf("/",g),-1==k?a=!0:(j=e.substr(k,g-k+1),j.match(/\/\s*\>/)||(a=!0));a&&(l=e.substr(b+1),f=l.match(c),f?(f=f[0],-1!=e.indexOf("</"+f+">",b)&&(a=!1)):
a=!1);a||b++}else b++}if(a){c=RegExp("(\\<\\/"+f+"\\>)|(\\<"+f+"\\>)|(\\<"+f+"\\s)|(\\<"+f+"$)");b="</"+f+">";i=1;a=h.line+1;for(k=d.lineCount();a<k;){if(e=d.getLine(a),n=e.match(c),n)for(f=0;f<n.length;f++)if(n[f]==b?i--:i++,!i)return{from:CodeMirror.Pos(h.line,g+1),to:CodeMirror.Pos(a,n.index)};a++}}};
CodeMirror.braceRangeFinder=function(d,h){for(var c=h.line,e=d.getLine(c),a=e.length,f,b,g,i,m,k,j,l,n;!(g=e.lastIndexOf("{",a),g<h.ch);){if(b=d.getTokenAt(CodeMirror.Pos(c,g+1)).type,!/^(comment|string)/.test(b)){f=g;break}a=g-1}if(null!=f&&!(e.lastIndexOf("}")>f)){e=1;a=d.lineCount();g=c+1;a:for(;g<a;++g){k=d.getLine(g);for(j=0;!(l=k.indexOf("{",j),n=k.indexOf("}",j),0>l&&(l=k.length),0>n&&(n=k.length),j=Math.min(l,n),j==k.length);){if(d.getTokenAt(CodeMirror.Pos(g,j+1)).type==b)if(j==l)++e;else if(!--e){i=
g;m=j;break a}++j}}if(null!=i&&i!=c+1)return{from:CodeMirror.Pos(c,f+1),to:CodeMirror.Pos(i,m)}}};CodeMirror.indentRangeFinder=function(d,h){for(var c=d.getOption("tabSize"),e=d.getLine(h.line),a=CodeMirror.countColumn(e,null,c),f,b=h.line+1,g=d.lineCount();b<g;++b)if(f=d.getLine(b),CodeMirror.countColumn(f,null,c)<a&&CodeMirror.countColumn(d.getLine(b-1),null,c)>a)return{from:CodeMirror.Pos(h.line,e.length),to:CodeMirror.Pos(b,f.length)}};
CodeMirror.newFoldFunction=function(d,h){if(null==h&&(h="↔"),"string"==typeof h){var c=document.createTextNode(h),h=document.createElement("span");h.appendChild(c);h.className="CodeMirror-foldmarker"}return function(c,a){var f,b,g,i,m;if("number"==typeof a&&(a=CodeMirror.Pos(a,0)),f=d(c,a),f){b=c.findMarksAt(f.from);for(i=g=0;i<b.length;++i)b[i].__isFold&&(++g,b[i].clear());g||(b=h.cloneNode(!0),CodeMirror.on(b,"mousedown",function(){m.clear()}),m=c.markText(f.from,f.to,{replacedWith:b,clearOnEnter:!0,
__isFold:!0}))}}};
(function(){CodeMirror.defineExtension("autoFormatAll",function(d,h){for(var c=this,e=c.getMode(),a=c.getRange(d,h).split("\n"),f=CodeMirror.copyState(e,c.getTokenAt(d).state),b=c.getOption("tabSize"),g="",i=0,m=0==d.ch,k,j=0;j<a.length;++j){for(k=new CodeMirror.StringStream(a[j],b);!k.eol();){var l=CodeMirror.innerMode(e,f),n=e.token(k,f),o=k.current();k.start=k.pos;(!m||/\S/.test(o))&&(g+=o,m=!1);if(!m&&l.mode.newlineAfterToken&&l.mode.newlineAfterToken(n,o,k.string.slice(k.pos)||a[j+1]||"",l.state))g+=
"\n",m=!0,++i}!k.pos&&e.blankLine&&e.blankLine(f);!m&&j<a.length-1&&(g+="\n",m=!0,++i)}c.operation(function(){c.replaceRange(g,d,h);for(var b=d.line+1,a=d.line+i;b<=a;++b)c.indentLine(b,"smart");c.setCursor({line:0,ch:0})})})})();
(function(){CodeMirror.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(d,c){return/^[;{}]$/.test(c)}});CodeMirror.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(d,c,e,a){return this.jsonMode?/^[\[,{]$/.test(c)||/^}/.test(e):";"==c&&a.lexical&&")"==a.lexical.type?!1:/^[;{}]$/.test(c)&&!/^;/.test(e)}});var d=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;
CodeMirror.extendMode("xml",{commentStart:"<\!--",commentEnd:"--\>",newlineAfterToken:function(h,c,e,a){var f=!1;return"html"==this.configuration&&(f=a.context?d.test(a.context.tagName):!1),!f&&("tag"==h&&/>$/.test(c)&&a.context||/^</.test(e))}});CodeMirror.defineExtension("commentRange",function(d,c,e){var a=this,f=CodeMirror.innerMode(a.getMode(),a.getTokenAt(c).state).mode;a.operation(function(){if(d)a.replaceRange(f.commentEnd,e),a.replaceRange(f.commentStart,c),c.line==e.line&&c.ch==e.ch&&a.setCursor(c.line,
c.ch+f.commentStart.length);else{var b=a.getRange(c,e),g=b.indexOf(f.commentStart),i=b.lastIndexOf(f.commentEnd);-1<g&&-1<i&&i>g&&(b=b.substr(0,g)+b.substring(g+f.commentStart.length,i)+b.substr(i+f.commentEnd.length));a.replaceRange(b,c,e)}})});CodeMirror.defineExtension("autoIndentRange",function(d,c){var e=this;this.operation(function(){for(var a=d.line;a<=c.line;a++)e.indentLine(a,"smart")})});CodeMirror.defineExtension("autoFormatRange",function(d,c){for(var e=this,a=e.getMode(),f=e.getRange(d,
c).split("\n"),b=CodeMirror.copyState(a,e.getTokenAt(d).state),g=e.getOption("tabSize"),i="",m=0,k=0==d.ch,j,l=0;l<f.length;++l){for(j=new CodeMirror.StringStream(f[l],g);!j.eol();){var n=CodeMirror.innerMode(a,b),o=a.token(j,b),p=j.current();j.start=j.pos;(!k||/\S/.test(p))&&(i+=p,k=!1);if(!k&&n.mode.newlineAfterToken&&n.mode.newlineAfterToken(o,p,j.string.slice(j.pos)||f[l+1]||"",n.state))i+="\n",k=!0,++m}!j.pos&&a.blankLine&&a.blankLine(b);!k&&l<f.length-1&&(i+="\n",k=!0,++m)}e.operation(function(){e.replaceRange(i,
d,c);for(var b=d.line+1,a=d.line+m;b<=a;++b)e.indentLine(b,"smart");e.setSelection(d,e.getCursor(!1))})})})();
(function(){function d(f){this.minChars="object"==typeof f&&f.minChars||e;this.style="object"==typeof f&&f.style||a;this.overlay=null}function h(a){a.operation(function(){var b=a._matchHighlightState,d;(b.overlay&&(a.removeOverlay(b.overlay),b.overlay=null),a.somethingSelected())&&((d=a.getSelection().replace(/^\s+|\s+$/g,""),d.length<b.minChars)||a.addOverlay(b.overlay=c(d,b.style)))})}function c(a,b){return{token:function(c){if(c.match(a))return b;c.next();c.skipTo(a.charAt(0))||c.skipToEnd()}}}
var e=2,a="matchhighlight";CodeMirror.defineOption("highlightSelectionMatches",!1,function(a,b,c){var c=c&&c!=CodeMirror.Init,e;if(b&&!c){a._matchHighlightState=new d(b);a.on("cursorActivity",h)}else!b&&c&&(e=a._matchHighlightState.overlay,e&&a.removeOverlay(e),a._matchHighlightState=null,a.off("cursorActivity",h))})})();
=======
﻿(function(){function j(d){for(var e={name:"autoCloseBrackets",Backspace:function(a){if(a.somethingSelected())return CodeMirror.Pass;var b=a.getCursor(),c=a.getLine(b.line);if(b.ch&&b.ch<c.length&&0==d.indexOf(c.slice(b.ch-1,b.ch+1))%2)a.replaceRange("",CodeMirror.Pos(b.line,b.ch-1),CodeMirror.Pos(b.line,b.ch+1));else return CodeMirror.Pass}},c=[],a=0;a<d.length;a+=2)(function(a,b){function h(a){var c=a.getCursor();if(a.getRange(c,CodeMirror.Pos(c.line,c.ch+1))!=b||a.somethingSelected())return CodeMirror.Pass;
a.execCommand("goCharRight")}a!=b&&c.push(b);e["'"+a+"'"]=function(e){if(e.somethingSelected()){var k=e.getSelection();e.replaceSelection(a+k+b)}else if(a!=b||h(e)==CodeMirror.Pass){var k=e.getCursor(),d=CodeMirror.Pos(k.line,k.ch+1),m=e.getLine(k.line),l=m.charAt(k.ch);if(m.length==k.ch||c.indexOf(l)>=0||f.test(l))e.replaceSelection(a+b,{head:d,anchor:d});else return CodeMirror.Pass}};a!=b&&(e["'"+b+"'"]=h)})(d.charAt(a),d.charAt(a+1));return e}var f=/\s/;CodeMirror.defineOption("autoCloseBrackets",
!1,function(d,e,c){c=c&&c!=CodeMirror.Init;e&&!c?d.addKeyMap(j(typeof e=="string"?e:"()[]{}''\"\"")):!e&&c&&d.removeKeyMap("autoCloseBrackets")})})();
(function(){function j(c,a){var g=c.getCursor(),b=c.getTokenAt(g),h=CodeMirror.innerMode(c.getMode(),b.state),n=h.state,k,i;if("xml"!=h.mode.name)return CodeMirror.Pass;var m=c.getOption("autoCloseTags"),l="html"==h.mode.configuration,h="object"==typeof m&&m.dontCloseTags||l&&d,m="object"==typeof m&&m.indentTags||l&&e;if(">"==a&&n.tagName){if(i=n.tagName,b.end>g.ch&&(i=i.slice(0,i.length-b.end+g.ch)),k=i.toLowerCase(),"tag"==b.type&&"closeTag"==n.type||-1<b.string.indexOf("/")||h&&-1<f(h,k))return CodeMirror.Pass;
n=(b=m&&-1<f(m,k))?CodeMirror.Pos(g.line+1,0):CodeMirror.Pos(g.line,g.ch+1);c.replaceSelection(">"+(b?"\n\n":"")+"</"+i+">",{head:n,anchor:n});b&&(c.indentLine(g.line+1),c.indentLine(g.line+2))}else if("/"==a&&"<"==b.string)(i=n.context&&n.context.tagName)&&c.replaceSelection("/"+i+">","end");else return CodeMirror.Pass}function f(c,a){if(c.indexOf)return c.indexOf(a);for(var g=0,b=c.length;g<b;++g)if(c[g]==a)return g;return-1}CodeMirror.defineOption("autoCloseTags",!1,function(c,a,g){if(a&&(g==CodeMirror.Init||
!g)){g={name:"autoCloseTags"};(typeof a!="object"||a.whenClosing)&&(g["'/'"]=function(a){return j(a,"/")});(typeof a!="object"||a.whenOpening)&&(g["'>'"]=function(a){return j(a,">")});c.addKeyMap(g)}else!a&&g!=CodeMirror.Init&&g&&c.removeKeyMap("autoCloseTags")});var d="area base br col command embed hr img input keygen link meta param source track wbr".split(" "),e="applet blockquote body button div dl fieldset form frameset h1 h2 h3 h4 h5 h6 head html iframe layer legend object ol p select table ul".split(" ")})();
(function(){function j(e){var c=e.getCursor(),a=e.getTokenAt(c),g=CodeMirror.innerMode(e.getMode(),a.state).mode,b,h,d,k;if("comment"==a.type&&g.blockCommentStart&&(h=a.string.indexOf(g.blockCommentEnd),d=e.getRange(CodeMirror.Pos(c.line,0),CodeMirror.Pos(c.line,a.end)),-1==h||h!=a.string.length-g.blockCommentEnd.length))if(0==a.string.indexOf(g.blockCommentStart)){if(b=d.slice(0,a.start),!/^\s*$/.test(b)){b="";for(c=0;c<a.start;++c)b+=" "}}else-1!=(k=d.indexOf(g.blockCommentContinue))&&k+g.blockCommentContinue.length>
a.start&&/^\s*$/.test(d.slice(0,k))&&(b=d.slice(0,k));if(null!=b)e.replaceSelection("\n"+b+g.blockCommentContinue,"end");else return CodeMirror.Pass}for(var f=["clike","css","javascript"],d=0;d<f.length;++d)CodeMirror.extendMode(f[d],{blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * "});CodeMirror.defineOption("continueComments",null,function(e,c,a){a&&a!=CodeMirror.Init&&e.removeKeyMap("continueComment");a={name:"continueComment"};a["string"==typeof c?c:"Enter"]=j;e.addKeyMap(a)})})();
(function(){function j(a){function b(e,d,k){var f,i,l,j;if(e.text){f=q?0:e.text.length-1;i=q?e.text.length:-1;for(null!=k&&(f=k+r);f!=i;f+=r)if(l=e.text.charAt(f),t.test(l)&&a.getTokenAt(c(d,f+1)).type==u)if(j=g[l],">"==j.charAt(1)==q)s.push(l);else{if(s.pop()!=j.charAt(0))return{pos:f,match:!1};if(!s.length)return{pos:f,match:!0}}}}var e=a.getCursor(),d=a.getLineHandle(e.line),f=e.ch-1,l=0<=f&&g[d.text.charAt(f)]||g[d.text.charAt(++f)],j,o;if(!l)return null;var q=">"==l.charAt(1),r=q?1:-1,u=a.getTokenAt(c(e.line,
f+1)).type,s=[d.text.charAt(f)],t=/[(){}[\]]/,l=e.line;for(o=q?Math.min(l+100,a.lineCount()):Math.max(-1,l-100);l!=o&&!(j=l==e.line?b(d,l,f):b(a.getLineHandle(l),l),j);l+=r);return{from:c(e.line,f),to:j&&c(l,j.pos),match:j&&j.match}}function f(b,g){var d=j(b);if(d&&!(b.getLine(d.from.line).length>a)&&(!d.to||!(b.getLine(d.to.line).length>a))){var f=d.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",m=b.markText(d.from,c(d.from.line,d.from.ch+1),{className:f}),l=d.to&&b.markText(d.to,
c(d.to.line,d.to.ch+1),{className:f});if(e&&b.state.focused&&b.display.input.focus(),d=function(){b.operation(function(){m.clear();l&&l.clear()})},g)setTimeout(d,800);else return d}}function d(a){a.operation(function(){b&&(b(),b=null);a.somethingSelected()||(b=f(a,!1))})}var e=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||8>document.documentMode),c=CodeMirror.Pos,a=1E3,g={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},b=null;CodeMirror.defineOption("matchBrackets",!1,
function(a,b){if(b)a.on("cursorActivity",d);else a.off("cursorActivity",d)});CodeMirror.defineExtension("matchBrackets",function(){f(this,!0)});CodeMirror.defineExtension("findMatchingBracket",function(){return j(this)})})();
CodeMirror.newFoldFunction=function(j,f){if(null==f&&(f="↔"),"string"==typeof f){var d=document.createTextNode(f),f=document.createElement("span");f.appendChild(d);f.className="CodeMirror-foldmarker"}return function(d,c){var a,g,b,h,n;if("number"==typeof c&&(c=CodeMirror.Pos(c,0)),a=j(d,c),a){g=d.findMarksAt(a.from);for(h=b=0;h<g.length;++h)g[h].__isFold&&(++b,g[h].clear());b||(g=f.cloneNode(!0),CodeMirror.on(g,"mousedown",function(){n.clear()}),n=d.markText(a.from,a.to,{replacedWith:g,clearOnEnter:!0,
__isFold:!0}))}}};
CodeMirror.braceRangeFinder=function(j,f){for(var d=f.line,e=j.getLine(d),c=e.length,a,g,b,h,n,k,i,m,l;!(b=e.lastIndexOf("{",c),b<f.ch);){if(g=j.getTokenAt(CodeMirror.Pos(d,b+1)).type,!/^(comment|string)/.test(g)){a=b;break}c=b-1}if(null!=a&&!(e.lastIndexOf("}")>a)){e=1;c=j.lineCount();b=d+1;a:for(;b<c;++b){k=j.getLine(b);for(i=0;!(m=k.indexOf("{",i),l=k.indexOf("}",i),0>m&&(m=k.length),0>l&&(l=k.length),i=Math.min(m,l),i==k.length);){if(j.getTokenAt(CodeMirror.Pos(b,i+1)).type==g)if(i==m)++e;else if(!--e){h=
b;n=i;break a}++i}}if(null!=h&&h!=d+1)return{from:CodeMirror.Pos(d,a+1),to:CodeMirror.Pos(h,n)}}};
CodeMirror.tagRangeFinder=function(){var j=RegExp("<(/?)([A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*)","g");return function(f,d){function e(){if(!(g>=f.lastLine()))return b=
0,h=f.getLine(++g),!0}function c(){for(var a,d,c;;){if(a=h.indexOf(">",b),-1==a)if(e())continue;else break;return d=h.lastIndexOf("/",a),c=-1<d&&/^\s*$/.test(h.slice(d+1,a)),b=a+1,c?"selfClose":"regular"}}function a(){for(;;){j.lastIndex=b;var a=j.exec(h);if(!a)if(e())continue;else break;return b=a.index+a[0].length,a}}for(var g=d.line,b=d.ch,h=f.getLine(g),n=[],k,i,m;;){if(i=a(),!i||g!=d.line||!(m=c()))return;if(!i[1]&&"selfClose"!=m){n.push(i[2]);k=b;break}}for(;;){var l=a(),p=g,o=b-(l?l[0].length:
0);if(!l||!(m=c()))break;if("selfClose"!=m)if(l[1]){for(i=n.length-1;0<=i;--i)if(n[i]==l[2]){n.length=i;break}if(!n.length)return{from:CodeMirror.Pos(d.line,k),to:CodeMirror.Pos(p,o)}}else n.push(l[2])}}}();
(function(){CodeMirror.defineExtension("autoFormatAll",function(j,f){for(var d=this,e=d.getMode(),c=d.getRange(j,f).split("\n"),a=CodeMirror.copyState(e,d.getTokenAt(j).state),g=d.getOption("tabSize"),b="",h=0,n=0==j.ch,k,i=0;i<c.length;++i){for(k=new CodeMirror.StringStream(c[i],g);!k.eol();){var m=CodeMirror.innerMode(e,a),l=e.token(k,a),p=k.current();k.start=k.pos;(!n||/\S/.test(p))&&(b+=p,n=!1);if(!n&&m.mode.newlineAfterToken&&m.mode.newlineAfterToken(l,p,k.string.slice(k.pos)||c[i+1]||"",m.state))b+=
"\n",n=!0,++h}!k.pos&&e.blankLine&&e.blankLine(a);!n&&i<c.length-1&&(b+="\n",n=!0,++h)}d.operation(function(){d.replaceRange(b,j,f);for(var a=j.line+1,c=j.line+h;a<=c;++a)d.indentLine(a,"smart");d.setCursor({line:0,ch:0})})})})();
(function(){CodeMirror.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(f,d){return/^[;{}]$/.test(d)}});CodeMirror.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(f,d,e,c){return this.jsonMode?/^[\[,{]$/.test(d)||/^}/.test(e):";"==d&&c.lexical&&")"==c.lexical.type?!1:/^[;{}]$/.test(d)&&!/^;/.test(e)}});var j=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;
CodeMirror.extendMode("xml",{commentStart:"<\!--",commentEnd:"--\>",newlineAfterToken:function(f,d,e,c){var a=!1;return"html"==this.configuration&&(a=c.context?j.test(c.context.tagName):!1),!a&&("tag"==f&&/>$/.test(d)&&c.context||/^</.test(e))}});CodeMirror.defineExtension("commentRange",function(f,d,e){var c=this,a=CodeMirror.innerMode(c.getMode(),c.getTokenAt(d).state).mode;c.operation(function(){if(f)c.replaceRange(a.commentEnd,e),c.replaceRange(a.commentStart,d),d.line==e.line&&d.ch==e.ch&&c.setCursor(d.line,
d.ch+a.commentStart.length);else{var g=c.getRange(d,e),b=g.indexOf(a.commentStart),h=g.lastIndexOf(a.commentEnd);-1<b&&-1<h&&h>b&&(g=g.substr(0,b)+g.substring(b+a.commentStart.length,h)+g.substr(h+a.commentEnd.length));c.replaceRange(g,d,e)}})});CodeMirror.defineExtension("autoIndentRange",function(f,d){var e=this;this.operation(function(){for(var c=f.line;c<=d.line;c++)e.indentLine(c,"smart")})});CodeMirror.defineExtension("autoFormatRange",function(f,d){for(var e=this,c=e.getMode(),a=e.getRange(f,
d).split("\n"),g=CodeMirror.copyState(c,e.getTokenAt(f).state),b=e.getOption("tabSize"),h="",j=0,k=0==f.ch,i,m=0;m<a.length;++m){for(i=new CodeMirror.StringStream(a[m],b);!i.eol();){var l=CodeMirror.innerMode(c,g),p=c.token(i,g),o=i.current();i.start=i.pos;(!k||/\S/.test(o))&&(h+=o,k=!1);if(!k&&l.mode.newlineAfterToken&&l.mode.newlineAfterToken(p,o,i.string.slice(i.pos)||a[m+1]||"",l.state))h+="\n",k=!0,++j}!i.pos&&c.blankLine&&c.blankLine(g);!k&&m<a.length-1&&(h+="\n",k=!0,++j)}e.operation(function(){e.replaceRange(h,
f,d);for(var a=f.line+1,b=f.line+j;a<=b;++a)e.indentLine(a,"smart");e.setSelection(f,e.getCursor(!1))})})})();
(function(){function j(a){this.minChars="object"==typeof a&&a.minChars||e;this.style="object"==typeof a&&a.style||c;this.overlay=null}function f(a){a.operation(function(){var c=a._matchHighlightState,b;(c.overlay&&(a.removeOverlay(c.overlay),c.overlay=null),a.somethingSelected())&&((b=a.getSelection().replace(/^\s+|\s+$/g,""),b.length<c.minChars)||a.addOverlay(c.overlay=d(b,c.style)))})}function d(a,c){return{token:function(b){if(b.match(a))return c;b.next();b.skipTo(a.charAt(0))||b.skipToEnd()}}}
var e=2,c="matchhighlight";CodeMirror.defineOption("highlightSelectionMatches",!1,function(a,c,b){var b=b&&b!=CodeMirror.Init,d;if(c&&!b){a._matchHighlightState=new j(c);a.on("cursorActivity",f)}else!c&&b&&(d=a._matchHighlightState.overlay,d&&a.removeOverlay(d),a._matchHighlightState=null,a.off("cursorActivity",f))})})();
>>>>>>> patch_cke
